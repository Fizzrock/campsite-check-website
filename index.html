<!DOCTYPE html>
<html>
<head>
    <title>Campsite Availability Checker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Campsite Availability Checker</h1>

    <div class="instructions">
        <p><strong>How to use:</strong></p>
        <ol>
            <li>Select a saved location from the <strong>Load Preset</strong> dropdown, or manually enter a <strong>Campground ID</strong>.</li>
            <li>Adjust the date range and other options as needed.</li>
            <li>Click <strong>Run Availability Check</strong> to see the results below.</li>
        </ol>
    </div>

    <form id="config-form">
        <!-- Main settings -->
        <fieldset>
            <legend>Search Configuration</legend>
            <div class="form-grid">
                <label for="preset-selector">Load Preset:</label>
                <select id="preset-selector" name="preset-selector"></select>

                <label for="campgroundId">Campground ID:</label>
                <input type="text" id="campgroundId" name="campgroundId" required placeholder="e.g., 232448">

                <label for="filterStartDate">Start Date:</label>
                <input type="date" id="filterStartDate" name="filterStartDate">

                <label for="filterEndDate">End Date:</label>
                <input type="date" id="filterEndDate" name="filterEndDate">

                <div></div> <!-- Empty cell for alignment -->
                <small class="form-note">Leave dates blank for a 30-day search starting today.</small>

                <label for="siteNumbers">Site Numbers (comma-separated):</label>
                <textarea id="siteNumbers" name="siteNumbers" rows="3" placeholder="e.g., A020, A022, 105"></textarea>
            </div>
        </fieldset>

        <!-- Display Toggles -->
        <fieldset>
            <legend>Display & Tab Options</legend>
            <div class="checkbox-grid">
                <label><input type="checkbox" name="showMainDataTable" checked> Show Main Data Table</label>
                <label><input type="checkbox" name="fetchAndShowEventsOnMainPage" checked> Show Events</label>
                <label><input type="checkbox" name="showRecAreaMediaOnMainPage" checked> Show Media</label>
                <label><input type="checkbox" name="showRawJsonTab" checked> Show Raw JSON Tab</label>
                <label><input type="checkbox" name="showAvailableOnlyTab" checked> Show Available Sites Tab</label>
                <label><input type="checkbox" name="showFilteredSitesTab" checked> Show Filtered Sites Tab</label>
                <label><input type="checkbox" name="showAvailabilitySummaryTab"> Show Availability Summary Tab</label>
                <label><input type="checkbox" name="showFullMetadataTab"> Show Full Metadata Tab</label>
                <label><input type="checkbox" name="showRecGovSearchDataTab" checked> Show Rec.gov Search Data Tab</label>
                <label><input type="checkbox" name="showDebugTab" checked> Show Debug Tab</label>
            </div>
        </fieldset>

        <!-- Sorting Options -->
        <fieldset>
            <legend>Sorting Options</legend>
            <div class="form-grid">
                <label for="sortFilteredSitesBy">Filtered Sites Tab Sort:</label>
                <select id="sortFilteredSitesBy" name="sortFilteredSitesBy">
                    <option value="date">Date, then Site</option>
                    <option value="site">Site, then Date</option>
                </select>
            </div>
        </fieldset>

        <!-- Tab Behavior Options -->
        <fieldset>
            <legend>Tab Behavior Options</legend>
            <div class="form-grid">
                <label for="includeNotReservableInAvailableTab">Available Sites Tab:</label>
                <label class="checkbox-label-inline"><input type="checkbox" id="includeNotReservableInAvailableTab" name="includeNotReservableInAvailableTab"> Include 'Not Reservable'</label>

                <label for="filteredSitesTableContent">Filtered Sites Table Content:</label>
                <select id="filteredSitesTableContent" name="filteredSitesTableContent">
                    <option value="available_or_not_reservable">Show 'Available' & 'Not Reservable'</option>
                    <option value="available_only">Show 'Available' Only</option>
                    <option value="all">Show All Statuses</option>
                </select>

                <label for="filteredSitesDetailFetch">Fetch Details For:</label>
                <select id="filteredSitesDetailFetch" name="filteredSitesDetailFetch">
                    <option value="all_filtered">All sites in my filter list</option>
                    <option value="available_or_not_reservable">Sites that are 'Available' or 'Not Reservable'</option>
                    <option value="only_available">Only sites that have 'Available' dates</option>
                </select>

                <label for="openDebugTabInNewWindow">Debug Tab:</label>
                <label class="checkbox-label-inline"><input type="checkbox" id="openDebugTabInNewWindow" name="openDebugTabInNewWindow"> Open in New Window</label>
            </div>
        </fieldset>

        <!-- Action Buttons -->
        <div class="button-container">
            <button type="submit">Run Availability Check</button>
            <button type="button" id="copy-link-button">Copy Sharable Link</button>
        </div>
    </form>

    <hr>

    <!-- Container for the new in-page tab system -->
    <div id="results-tabs-container" style="display: none;">
        <div id="tab-buttons" class="tab-buttons"></div>
        <div id="tab-panels" class="tab-panels"></div>
    </div>

    <!-- <div id="live-debug-panel" style="display: none;">
        <h3>Live Debug Panel</h3>
    </div> -->

    <script src="campgroundAvailability.js"></script>
</body>
</html>
